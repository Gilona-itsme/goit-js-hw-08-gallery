{"version":3,"sources":["js/gallery-items.js","js/gallery.js"],"names":["preview","original","description","galleryContainer","document","querySelector","modal","modalImage","modalBtn","overlay","createGalleryMarkup","images","map","join","openModal","event","preventDefault","target","currentTarget","window","addEventListener","onEscKeyPress","src","dataset","source","alt","classList","add","closeModal","onOverlayClick","openNextImg","remove","removeEventListener","code","i","findIndex","item","length","insertAdjacentHTML"],"mappings":";AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACiHd,aA/GD,IAAA,EAAA,EAAA,QAAA,uBA+GC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3GD,IAAMC,EAAmBC,SAASC,cAAc,eAC1CC,EAAQF,SAASC,cAAc,gBAC/BE,EAAaH,SAASC,cAAc,oBACpCG,EAAWJ,SAASC,cAAc,kCAClCI,EAAUL,SAASC,cAAc,sBAQvC,SAASK,EAAoBC,GACpBA,OAAAA,EACJC,IAAI,SAAwC,GAArCX,IAAAA,EAAAA,EAAAA,SAAUD,EAAAA,EAAAA,QAASE,EAAAA,EAAAA,YAKbD,MAAAA,oGAAAA,OAAAA,EAICD,uFAAAA,OAAAA,EACQC,gCAAAA,OAAAA,EACRC,wBAAAA,OAAAA,EAVb,0DAgBDW,KAAK,IAOV,SAASC,EAAUC,GACjBA,EAAMC,iBACFD,EAAME,SAAWF,EAAMG,gBAG3BC,OAAOC,iBAAiB,UAAWC,GAEnCd,EAAWe,IAAMP,EAAME,OAAOM,QAAQC,OACtCjB,EAAWkB,IAAMV,EAAME,OAAOQ,IAC9BnB,EAAMoB,UAAUC,IAAI,WACpBnB,EAASY,iBAAiB,QAASQ,GACnCnB,EAAQW,iBAAiB,QAASS,GAClCV,OAAOC,iBAAiB,UAAWU,IAQrC,SAASF,IACPtB,EAAMoB,UAAUK,OAAO,WACvBxB,EAAWe,IAAM,GAEjBH,OAAOa,oBAAoB,UAAWX,GACtCb,EAASwB,oBAAoB,QAASJ,GACtCnB,EAAQuB,oBAAoB,QAASH,GACrCV,OAAOa,oBAAoB,UAAWF,GAOxC,SAASD,EAAed,GAClBA,EAAME,SAAWF,EAAMG,eACzBU,IAMJ,SAASP,EAAcN,GACF,WAAfA,EAAMkB,MACRL,IAMJ,SAASE,EAAYf,GACfmB,IAAAA,EAAIvB,EAAOwB,QAAAA,UAAU,SAAAC,GAAQA,OAAAA,EAAKnC,WAAaM,EAAWe,MAE1DP,GAAe,cAAfA,EAAMkB,KAAsB,CAC1BC,GAAM,IAANA,EACKN,OAAAA,IAETM,GAAK,EAGHnB,GAAe,eAAfA,EAAMkB,KAAuB,CAC3BC,GAAAA,IAAMvB,EAAO0B,QAAAA,OAAS,EACjBT,OAAAA,IAETM,GAAK,EAGP3B,EAAWe,IAAMX,EAAOuB,QAAAA,GAAGjC,SAC3BM,EAAWkB,IAAMd,EAAOuB,QAAAA,GAAGhC,YApG7BC,EAAiBiB,iBAAiB,QAASN,GAE3CX,EAAiBmC,mBAAmB,YAAa5B,EAAoBC,EAAD","file":"gallery.9b1c512e.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","// Импорт исходного массива\n\nimport images from './gallery-items.js';\n\n// Ссылки\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst modal = document.querySelector('.js-lightbox');\nconst modalImage = document.querySelector('.lightbox__image');\nconst modalBtn = document.querySelector('[data-action=\"close-lightbox\"]');\nconst overlay = document.querySelector('.lightbox__overlay');\n\ngalleryContainer.addEventListener('click', openModal);\n\ngalleryContainer.insertAdjacentHTML('beforeend', createGalleryMarkup(images));\n\n// Создание и рендер разметки по массиву данных и предоставленному шаблону.\n\nfunction createGalleryMarkup(images) {\n  return images\n    .map(({ original, preview, description }) => {\n      return `\n      <li class=\"gallery__item\">\n        <a\n          class=\"gallery__link\"\n          href=\"${original}\"\n        >\n          <img\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-source=\"${original}\"\n            alt=\"${description}\"\n          />\n        </a>\n      </li>\n        `;\n    })\n    .join('');\n}\n\n// Реализация делегирования на галерее ul.js - gallery и получение url большого изображения.\n// Открытие модального окна по клику на элементе галереи.\n// Подмена значения атрибута src элемента img.lightbox__image\n\nfunction openModal(event) {\n  event.preventDefault();\n  if (event.target === event.currentTarget) {\n    return;\n  }\n  window.addEventListener('keydown', onEscKeyPress);\n\n  modalImage.src = event.target.dataset.source;\n  modalImage.alt = event.target.alt;\n  modal.classList.add('is-open');\n  modalBtn.addEventListener('click', closeModal);\n  overlay.addEventListener('click', onOverlayClick);\n  window.addEventListener('keydown', openNextImg);\n  // window.addEventListener('keyup', moveRight);\n  // window.addEventListener('keyup', moveLeft);\n}\n\n// Закрытие модального окна по клику на кнопку button[data - action= \"close-lightbox\"].\n// Очистка значения атрибута src элемента img.lightbox__image.\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  modalImage.src = '';\n\n  window.removeEventListener('keydown', onEscKeyPress);\n  modalBtn.removeEventListener('click', closeModal);\n  overlay.removeEventListener('click', onOverlayClick);\n  window.removeEventListener('keydown', openNextImg);\n  // window.removeEventListener('keyup', moveRight);\n  // window.removeEventListener('keyup', moveLeft);\n}\n\n// Закрытие модального окна по клику на div.lightbox__overlay.\n\nfunction onOverlayClick(event) {\n  if (event.target === event.currentTarget) {\n    closeModal();\n  }\n}\n\n// Закрытие модального окна по нажатию клавиши ESC.\n\nfunction onEscKeyPress(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\n\n// Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\".\n\nfunction openNextImg(event) {\n  let i = images.findIndex(item => item.original === modalImage.src);\n\n  if (event.code === 'ArrowLeft') {\n    if (i === 0) {\n      return closeModal();\n    }\n    i -= 1;\n  }\n\n  if (event.code === 'ArrowRight') {\n    if (i === images.length - 1) {\n      return closeModal();\n    }\n    i += 1;\n  }\n\n  modalImage.src = images[i].original;\n  modalImage.alt = images[i].description;\n}\n"]}